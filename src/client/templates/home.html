
<div ng-if="!user.value.admin" class="center-block">
	<btn class="btn btn-lg btn-primary" ng-click="logAdminIn()" style="margin-top:20px;">Sign in with GitHub</btn>
</div>

<div class="row main" style="margin-top: 50px;">

  	<div class="col-md-2 col-md-offset-1">
	    <div ng-show="user.loaded" style="margin-top:30px;">
	      <img ng-src="{{ user.value.avatar_url }}" class="img-responsive hidden-xs hidden-sm" />
	      <img ng-src="{{ user.value.avatar_url }}?s=200" class="visible-xs visible-sm" width="200px;"/>
	      <h4 style="font-weight:400; margin:5px 0;">{{ user.value.name || user.value.login }}</h4>
	      <h4 ng-show="user.value.name">{{ user.value.login }}</h4>
	    </div>
  	</div>

	<div class="col-md-8" ng-if="user.value.admin">
		<h2>Repositories</h2>

		<div class="well well-sm" style="padding-top:9px">
	      <form ng-submit="addRepo()">
	        <div class="form-group">
	          <div class="input-group">
	            <div class="form-group has-feedback">
	              <input type="text" ng-model="query.text" class="form-control" style="height:33px;" ng-focus="query.input=true" ng-blur="finishInput()" />
	              <i class="fa fa-lg fa-times form-control-feedback" ng-show="query.text" ng-click="query.text=''" style="top:0px;"></i>
			        <div class="list-group" style="max-height:200px; overflow-y:scroll;" ng-show="query.input">
			          <a href="" 
			             class="clickable list-group-item octicon" 
			             ng-class="{false:'octicon-repo', true:'octicon-repo-forked'}[repo.fork]" 
			             ng-click="select(repo); "
			             ng-repeat="repo in repos | orderBy: 'full_name' | filter: {full_name: query.text}|notIn:claRepos">
			            {{ repo.full_name }}
			          </a>
			        </div>
	            </div>
	            <span class="input-group-btn">
	              <button class="btn btn-info" type="submit" ng-disabled="!query.text">Add Repository</button>
	            </span>
	          </div>
	          <span class="help-block" style="margin-top:1px;">
	            Type <em>username/</em> or <em>organization/</em> to find a repository
	          </span>
	          <div ng-repeat="error in errorMsg" class="alert alert-danger" role="alert" ng-show="errorMsg.length > 0">
				  <span class="fa fa-warning" aria-hidden="true"></span>
				  <span class="sr-only">Error:</span>
				  {{ error }}
				</div>
	        </div>

	      </form>
	    </div>

	  	<table  class="col-md-6 table table-hover">
			<tr ng-repeat="claRepo in claRepos | orderBy:'repo' " ng-class="{'text-primary': claRepo.active}">
				<td>
					<div class="row">
						<span class="col-sm-9 octicon clickable btn_padding" ng-class="{false:'octicon-repo', true:'octicon-repo-forked'}[claRepo.fork]" ng-click="goTo(claRepo)">&nbsp; {{ claRepo.owner }} / {{ claRepo.repo }}</span>
	              		<button class="btn btn-info col-sm-2" ng-click="navigateToDetails(claRepo)" ng-class="{true:'btn_tab'}[claRepo.uuid === settingsRepo.uuid && openSettings]">Link CLA</button>
 						<div class="col-sm-1 btn_padding">
 							<i class="fa fa-times action-icon"
 							ng-click="remove(claRepo)" 
 							tooltip-placement="bottom" 
 							tooltip="Remove">
 							</i>
 						</div>
 					</div>
        			<div ui-view ng-show="claRepo.uuid === settingsRepo.uuid && openSettings" class="row settings"></div>

				</td>
			</tr>
		</table>
	</div>
</div>

